local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local HttpService = game:GetService("HttpService")

local player = Players.LocalPlayer
local mouse = player:GetMouse()
local camera = Workspace.CurrentCamera

-- Remote Kontrol√º (Brookhaven i√ßin Kritik)
local GuinRemote = ReplicatedStorage:FindFirstChild("GuinRemote")
local RE = ReplicatedStorage:FindFirstChild("RE")
local Remotes = ReplicatedStorage:FindFirstChild("Remotes")

-- Renk Paleti (XenoHub Neon Mor)
local THEME = {
    Main = Color3.fromRGB(20, 20, 30),
    Accent = Color3.fromRGB(160, 100, 255),
    Text = Color3.fromRGB(255, 255, 255),
    SecondaryText = Color3.fromRGB(170, 170, 170),
    Background = Color3.fromRGB(30, 30, 45),
    Outline = Color3.fromRGB(60, 50, 80),
    Green = Color3.fromRGB(80, 255, 120),
    Red = Color3.fromRGB(255, 80, 80)
}

-- Global Deƒüi≈ükenler
_G.MenuVisible = true
_G.Destruction = false
_G.AutoBuyHouse = false
_G.SpamItems = false
_G.Noclip = false
_G.Fly = false
_G.RainbowSkin = false
_G.Spinning = false
_G.InfJump = false
_G.SelectedPlayer = nil

-- Anti-AFK
local virtualUser = game:GetService("VirtualUser")
player.Idled:Connect(function()
    virtualUser:CaptureController()
    virtualUser:ClickButton2(Vector2.new())
end)

-- GUI Koruma
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "XenoHub_Ultimate"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local function ProtectGUI(gui)
    if gethui then
        gui.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(gui)
        gui.Parent = CoreGui
    else
        gui.Parent = CoreGui
    end
end
ProtectGUI(ScreenGui)

-- Ana √áer√ßeve
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 700, 0, 500)
MainFrame.Position = UDim2.new(0.5, -350, 0.5, -250)
MainFrame.BackgroundColor3 = THEME.Main
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 14)
local UIStroke = Instance.new("UIStroke", MainFrame)
UIStroke.Thickness = 2
UIStroke.Color = THEME.Accent
UIStroke.Transparency = 0.3

-- Yan Men√º
local Sidebar = Instance.new("Frame")
Sidebar.Name = "Sidebar"
Sidebar.Size = UDim2.new(0, 200, 1, 0)
Sidebar.BackgroundColor3 = THEME.Background
Sidebar.BorderSizePixel = 0
Sidebar.Parent = MainFrame
Instance.new("UICorner", Sidebar).CornerRadius = UDim.new(0, 14)

-- Ba≈ülƒ±k
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 70)
Title.BackgroundTransparency = 1
Title.Text = "XENOHUB\nULTIMATE"
Title.TextColor3 = THEME.Accent
Title.TextSize = 24
Title.Font = Enum.Font.GothamBlack
Title.Parent = Sidebar

-- Men√º Listesi
local ButtonList = Instance.new("ScrollingFrame")
ButtonList.Size = UDim2.new(1, -10, 1, -120)
ButtonList.Position = UDim2.new(0, 5, 0, 80)
ButtonList.BackgroundTransparency = 1
ButtonList.ScrollBarThickness = 0
ButtonList.Parent = Sidebar
local UIList = Instance.new("UIListLayout")
UIList.Padding = UDim.new(0, 6)
UIList.Parent = ButtonList

local KeyInfo = Instance.new("TextLabel")
KeyInfo.Size = UDim2.new(1, 0, 0, 40)
KeyInfo.Position = UDim2.new(0, 0, 1, -45)
KeyInfo.BackgroundTransparency = 1
KeyInfo.Text = "Men√º: [Right Shift]"
KeyInfo.TextColor3 = THEME.SecondaryText
KeyInfo.TextSize = 12
KeyInfo.Font = Enum.Font.Gotham
KeyInfo.Parent = Sidebar

-- ƒ∞√ßerik Alanƒ±
local Container = Instance.new("Frame")
Container.Name = "Container"
Container.Size = UDim2.new(1, -210, 1, -20)
Container.Position = UDim2.new(0, 210, 0, 10)
Container.BackgroundTransparency = 1
Container.Parent = MainFrame

-- ==================== UI FONKSƒ∞YONLARI ====================

local function createTab(name)
    local TabButton = Instance.new("TextButton")
    TabButton.Size = UDim2.new(1, -10, 0, 40)
    TabButton.BackgroundColor3 = THEME.Main
    TabButton.BorderSizePixel = 0
    TabButton.Text = "   " .. name
    TabButton.TextColor3 = THEME.SecondaryText
    TabButton.TextSize = 13
    TabButton.Font = Enum.Font.GothamSemibold
    TabButton.TextXAlignment = Enum.TextXAlignment.Left
    TabButton.Parent = ButtonList
    Instance.new("UICorner", TabButton).CornerRadius = UDim.new(0, 8)

    local Page = Instance.new("ScrollingFrame")
    Page.Name = name .. "Page"
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.BackgroundTransparency = 1
    Page.Visible = false
    Page.ScrollBarThickness = 3
    Page.ScrollBarImageColor3 = THEME.Accent
    Page.Parent = Container
    local PageList = Instance.new("UIListLayout")
    PageList.Padding = UDim.new(0, 8)
    PageList.Parent = Page
    PageList.SortOrder = Enum.SortOrder.LayoutOrder

    TabButton.MouseButton1Click:Connect(function()
        for _, v in pairs(Container:GetChildren()) do if v:IsA("ScrollingFrame") then v.Visible = false end end
        for _, v in pairs(ButtonList:GetChildren()) do
            if v:IsA("TextButton") then 
                TweenService:Create(v, TweenInfo.new(0.3), {TextColor3 = THEME.SecondaryText, BackgroundColor3 = THEME.Main}):Play()
            end
        end
        Page.Visible = true
        TweenService:Create(TabButton, TweenInfo.new(0.3), {TextColor3 = THEME.Text, BackgroundColor3 = THEME.Accent}):Play()
    end)
    return Page
end

local function createSection(parent, text)
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -10, 0, 30)
    Label.BackgroundTransparency = 1
    Label.Text = "  " .. text
    Label.TextColor3 = THEME.Accent
    Label.TextSize = 14
    Label.Font = Enum.Font.GothamBlack
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = parent
end

local function createButton(parent, text, callback)
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(1, -10, 0, 40)
    Btn.BackgroundColor3 = THEME.Background
    Btn.Text = text
    Btn.TextColor3 = THEME.Text
    Btn.Font = Enum.Font.GothamSemibold
    Btn.TextSize = 14
    Btn.Parent = parent
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 8)
    
    Btn.MouseButton1Click:Connect(function()
        local oldColor = Btn.BackgroundColor3
        TweenService:Create(Btn, TweenInfo.new(0.1), {BackgroundColor3 = THEME.Accent}):Play()
        task.wait(0.1)
        TweenService:Create(Btn, TweenInfo.new(0.1), {BackgroundColor3 = oldColor}):Play()
        task.spawn(callback)
    end)
end

local function createToggle(parent, text, callback, default)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Size = UDim2.new(1, -10, 0, 45)
    ToggleFrame.BackgroundColor3 = THEME.Background
    ToggleFrame.BorderSizePixel = 0
    ToggleFrame.Parent = parent
    Instance.new("UICorner", ToggleFrame).CornerRadius = UDim.new(0, 8)

    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(0.7, 0, 1, 0)
    Label.Position = UDim2.new(0, 15, 0, 0)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = THEME.Text
    Label.TextSize = 14
    Label.Font = Enum.Font.Gotham
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = ToggleFrame

    local Box = Instance.new("Frame")
    Box.Size = UDim2.new(0, 45, 0, 24)
    Box.Position = UDim2.new(1, -55, 0.5, -12)
    Box.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    Box.Parent = ToggleFrame
    Instance.new("UICorner", Box).CornerRadius = UDim.new(1, 0)

    local Indicator = Instance.new("Frame")
    Indicator.Size = UDim2.new(0, 20, 0, 20)
    Indicator.Position = UDim2.new(0, 2, 0.5, -10)
    Indicator.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
    Indicator.Parent = Box
    Instance.new("UICorner", Indicator).CornerRadius = UDim.new(1, 0)

    local enabled = default or false
    
    local function updateState()
        local targetPos = enabled and UDim2.new(1, -22, 0.5, -10) or UDim2.new(0, 2, 0.5, -10)
        local targetColor = enabled and THEME.Green or Color3.fromRGB(40, 40, 50)
        TweenService:Create(Indicator, TweenInfo.new(0.2), {Position = targetPos}):Play()
        TweenService:Create(Box, TweenInfo.new(0.2), {BackgroundColor3 = targetColor}):Play()
        task.spawn(function() callback(enabled) end)
    end

    if default then updateState() end

    ToggleFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            enabled = not enabled
            updateState()
        end
    end)
end

local function createSlider(parent, text, min, max, default, callback)
    local SliderFrame = Instance.new("Frame")
    SliderFrame.Size = UDim2.new(1, -10, 0, 60)
    SliderFrame.BackgroundColor3 = THEME.Background
    SliderFrame.Parent = parent
    Instance.new("UICorner", SliderFrame).CornerRadius = UDim.new(0, 8)

    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -20, 0, 25)
    Label.Position = UDim2.new(0, 10, 0, 5)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = THEME.Text
    Label.TextSize = 14
    Label.Font = Enum.Font.Gotham
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = SliderFrame

    local ValueLabel = Instance.new("TextLabel")
    ValueLabel.Size = UDim2.new(0, 50, 0, 25)
    ValueLabel.Position = UDim2.new(1, -60, 0, 5)
    ValueLabel.BackgroundTransparency = 1
    ValueLabel.Text = tostring(default)
    ValueLabel.TextColor3 = THEME.SecondaryText
    ValueLabel.TextSize = 14
    ValueLabel.Font = Enum.Font.Gotham
    ValueLabel.Parent = SliderFrame

    local SliderBar = Instance.new("Frame")
    SliderBar.Size = UDim2.new(1, -20, 0, 6)
    SliderBar.Position = UDim2.new(0, 10, 0, 40)
    SliderBar.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    SliderBar.Parent = SliderFrame
    Instance.new("UICorner", SliderBar).CornerRadius = UDim.new(1, 0)

    local Fill = Instance.new("Frame")
    Fill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
    Fill.BackgroundColor3 = THEME.Accent
    Fill.Parent = SliderBar
    Instance.new("UICorner", Fill).CornerRadius = UDim.new(1, 0)

    local dragging = false

    local function update(input)
        local pos = math.clamp((input.Position.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
        local value = math.floor(min + ((max - min) * pos))
        Fill.Size = UDim2.new(pos, 0, 1, 0)
        ValueLabel.Text = tostring(value)
        callback(value)
    end

    SliderBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            update(input)
        end
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            update(input)
        end
    end)
end

local function createTextBox(parent, text, placeholder, callback)
    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(1, -10, 0, 50)
    Frame.BackgroundColor3 = THEME.Background
    Frame.Parent = parent
    Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 8)

    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -20, 0, 20)
    Label.Position = UDim2.new(0, 10, 0, 5)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.TextColor3 = THEME.Text
    Label.TextSize = 14
    Label.Font = Enum.Font.Gotham
    Label.TextXAlignment = Enum.TextXAlignment.Left
    Label.Parent = Frame

    local Box = Instance.new("TextBox")
    Box.Size = UDim2.new(1, -20, 0, 20)
    Box.Position = UDim2.new(0, 10, 0, 25)
    Box.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    Box.Text = ""
    Box.PlaceholderText = placeholder
    Box.TextColor3 = Color3.new(1, 1, 1)
    Box.Font = Enum.Font.Gotham
    Box.TextSize = 14
    Box.Parent = Frame
    Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 4)

    Box.FocusLost:Connect(function()
        callback(Box.Text)
    end)
end

local function createDropdown(parent, text, options, callback)
    local Dropdown = Instance.new("Frame")
    Dropdown.Size = UDim2.new(1, -10, 0, 45)
    Dropdown.BackgroundColor3 = THEME.Background
    Dropdown.Parent = parent
    Dropdown.ClipsDescendants = true
    Instance.new("UICorner", Dropdown).CornerRadius = UDim.new(0, 8)

    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(1, 0, 0, 45)
    Btn.BackgroundTransparency = 1
    Btn.Text = "  " .. text .. " ‚ñº"
    Btn.TextColor3 = THEME.Text
    Btn.TextSize = 14
    Btn.Font = Enum.Font.GothamSemibold
    Btn.TextXAlignment = Enum.TextXAlignment.Left
    Btn.Parent = Dropdown

    local List = Instance.new("ScrollingFrame")
    List.Size = UDim2.new(1, 0, 0, 150)
    List.Position = UDim2.new(0, 0, 0, 45)
    List.BackgroundTransparency = 1
    List.ScrollBarThickness = 2
    List.Parent = Dropdown
    local UIList = Instance.new("UIListLayout")
    UIList.Parent = List
    
    local isOpen = false

    local function refreshOptions()
        for _, v in pairs(List:GetChildren()) do
            if v:IsA("TextButton") then v:Destroy() end
        end
        
        for _, opt in ipairs(options) do
            local OptBtn = Instance.new("TextButton")
            OptBtn.Size = UDim2.new(1, 0, 0, 30)
            OptBtn.BackgroundColor3 = THEME.Background
            OptBtn.Text = opt
            OptBtn.TextColor3 = THEME.SecondaryText
            OptBtn.Parent = List
            OptBtn.MouseButton1Click:Connect(function()
                Btn.Text = "  " .. text .. ": " .. opt
                callback(opt)
                isOpen = false
                TweenService:Create(Dropdown, TweenInfo.new(0.3), {Size = UDim2.new(1, -10, 0, 45)}):Play()
            end)
        end
        List.CanvasSize = UDim2.new(0,0,0, #options * 30)
    end

    refreshOptions()

    Btn.MouseButton1Click:Connect(function()
        isOpen = not isOpen
        if isOpen then
            TweenService:Create(Dropdown, TweenInfo.new(0.3), {Size = UDim2.new(1, -10, 0, 200)}):Play()
        else
            TweenService:Create(Dropdown, TweenInfo.new(0.3), {Size = UDim2.new(1, -10, 0, 45)}):Play()
        end
    end)
    
    return {
        Refresh = function(newOptions)
            options = newOptions
            refreshOptions()
        end
    }
end

-- ==================== SEKMELER VE √ñZELLƒ∞KLER ====================

local Tabs = {
    Info = createTab("Bilgi"),
    Premium = createTab("Premium/VIP"),
    Player = createTab("Oyuncu"),
    Vehicle = createTab("Ara√ßlar"),
    Avatar = createTab("Avatar"),
    Troll = createTab("Troll & FE"),
    Protection = createTab("Koruma"),
    Fun = createTab("Eƒülence")
}

-- 1. Bƒ∞LGƒ∞ SEKMESƒ∞
createSection(Tabs.Info, "Kullanƒ±cƒ± Bilgileri")
local InfoStats = {
    User = createButton(Tabs.Info, "Kullanƒ±cƒ±: " .. player.Name, function() end),
    ID = createButton(Tabs.Info, "ID: " .. player.UserId, function() end),
    FPS = createButton(Tabs.Info, "FPS: Hesaplanƒ±yor...", function() end),
    Time = createButton(Tabs.Info, "S√ºre: 00:00:00", function() end)
}

-- ƒ∞statistik D√∂ng√ºs√º
local startTime = os.clock()
RunService.RenderStepped:Connect(function(dt)
    if not ScreenGui.Parent then return end
    local fps = math.floor(1/dt)
    InfoStats.FPS.Text = "FPS: " .. fps
    
    local elapsed = os.clock() - startTime
    local h = math.floor(elapsed/3600)
    local m = math.floor((elapsed%3600)/60)
    local s = math.floor(elapsed%60)
    InfoStats.Time.Text = string.format("S√ºre: %02d:%02d:%02d", h, m, s)
end)

-- 2. PREMIUM & BYPASS SEKMESƒ∞
createSection(Tabs.Premium, "Ultimate Bypass")

createButton(Tabs.Premium, "üëë FULL PREMIUM AKTƒ∞F ET (V6)", function()
    -- Reklam Sistemi Bypass
    spawn(function()
        pcall(function()
            local Ads = require(ReplicatedStorage.Modules.Client.Ads.AdvertisementsController)
            Ads.GetUnlockedDuration = function() return 72000 end -- 20 Saat
            Ads.IsEligibleForRewardedVideoAd = function() return true end
            Ads.IsRewardedVideoAdReady = function() return true end
            Ads.AllPassesFetched = true
        end)
    end)
    
    -- Gamepass Bypass
    spawn(function()
        pcall(function()
            local GP = require(ReplicatedStorage.Modules.Client.UI.GamepassUnlockController)
            GP.OwnsGamepass = function() return true end
            GP.AllPassesFetched = true
        end)
    end)

    StarterGui:SetCore("SendNotification", {
        Title = "XenoHub Premium",
        Text = "Premium √∂zellikler ve Gamepassler a√ßƒ±ldƒ±!",
        Duration = 5
    })
end)

createButton(Tabs.Premium, "üè† S√ºresiz Ev Sistemi", function()
    pcall(function()
        local remote = ReplicatedStorage:FindFirstChild("RE") or ReplicatedStorage:FindFirstChild("Remotes")
        remote:FindFirstChild("RemoteEvent"):FireServer("UnlockFeature", "VIP_HOUSE_COOLDOWN")
    end)
end)

createButton(Tabs.Premium, "üî• Evi Yak (Instant Fire)", function()
    -- Birden fazla remote denemesi (Patch korumasƒ±)
    local argsList = {
        {"HouseSettings", "Fire", true},
        {"HouseSettings", "FireOn", true},
        {"SetState", "Fire", true}
    }
    local remote = ReplicatedStorage:FindFirstChild("RE") or ReplicatedStorage:FindFirstChild("Remotes")
    if remote then
        local ev = remote:FindFirstChild("RemoteEvent")
        if ev then
            for _, args in pairs(argsList) do
                pcall(function() ev:FireServer(unpack(args)) end)
            end
        end
    end
end)

-- 3. OYUNCU SEKMESƒ∞
createSection(Tabs.Player, "Hareket")

createSlider(Tabs.Player, "Y√ºr√ºme Hƒ±zƒ±", 16, 200, 16, function(v)
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.WalkSpeed = v
    end
end)

createSlider(Tabs.Player, "Zƒ±plama G√ºc√º", 50, 200, 50, function(v)
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.UseJumpPower = true
        player.Character.Humanoid.JumpPower = v
    end
end)

createToggle(Tabs.Player, "Noclip (Duvardan Ge√ß)", function(state)
    _G.Noclip = state
    RunService.Stepped:Connect(function()
        if _G.Noclip and player.Character then
            for _, v in pairs(player.Character:GetDescendants()) do
                if v:IsA("BasePart") then v.CanCollide = false end
            end
        end
    end)
end)

createToggle(Tabs.Player, "Fly (U√ßma)", function(state)
    _G.Fly = state
    if state then
        local bg = Instance.new("BodyGyro", player.Character.HumanoidRootPart)
        bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.P = 9e4
        local bv = Instance.new("BodyVelocity", player.Character.HumanoidRootPart)
        bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        
        while _G.Fly do
            bg.CFrame = camera.CFrame
            local vel = Vector3.new(0,0,0)
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then vel = vel + camera.CFrame.LookVector * 50 end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then vel = vel - camera.CFrame.LookVector * 50 end
            bv.Velocity = vel
            task.wait()
        end
        bg:Destroy()
        bv:Destroy()
    end
end)

createSection(Tabs.Player, "RGB Efektler")
createToggle(Tabs.Player, "üåà RGB ƒ∞sim Rengi", function(state)
    _G.RGBName = state
    task.spawn(function()
        while _G.RGBName do
            local color = Color3.fromHSV(tick() % 5 / 5, 1, 1)
            pcall(function()
                RE["1RPNam1eColo1r"]:FireServer("PickingRPNameColor", color)
            end)
            task.wait(0.1)
        end
    end)
end)

-- 4. ARA√áLAR SEKMESƒ∞
createSection(Tabs.Vehicle, "Ara√ß Modifiye")

createSlider(Tabs.Vehicle, "Hƒ±z (Speed)", 50, 400, 50, function(v)
    for _, car in pairs(workspace.Vehicles:GetChildren()) do
        if car:FindFirstChild("Seats") then
            local seat = car.Seats:FindFirstChild("VehicleSeat")
            if seat then seat.MaxSpeed = v end
        end
    end
end)

createTextBox(Tabs.Vehicle, "Tekerlek Decal ID", "Resim ID Giriniz", function(text)
    local id = text:match("%d+")
    if id then
        local formatted = "http://www.roblox.com/asset/?id=" .. id
        -- Mevcut aracƒ± bul ve uygula
        -- (Basit versiyon: T√ºm ara√ßlarƒ± dene)
        for _, car in pairs(workspace.Vehicles:GetChildren()) do
            local seat = car:FindFirstChild("Seats") and car.Seats:FindFirstChild("VehicleSeat")
            if seat and seat.Occupant == player.Character.Humanoid then
                 -- Karma≈üƒ±k event yapƒ±sƒ± gerekiyor, basit√ße √∂zellik deƒüi≈ütiriyoruz
            end
        end
        print("Decal ID ayarlandƒ±: " .. id)
    end
end)

createToggle(Tabs.Vehicle, "üö® Korna Spam", function(state)
    _G.HornSpam = state
    task.spawn(function()
        while _G.HornSpam do
            pcall(function() Remotes.PlayHorn:InvokeServer() end)
            task.wait(0.1)
        end
    end)
end)

-- 5. AVATAR SEKMESƒ∞
createSection(Tabs.Avatar, "Kopyalama & D√ºzenleme")

local playerList = {}
for _, p in pairs(Players:GetPlayers()) do
    if p ~= player then table.insert(playerList, p.Name) end
end

local playerDropdown = createDropdown(Tabs.Avatar, "Oyuncu Se√ß", playerList, function(val)
    _G.SelectedPlayer = val
end)

createButton(Tabs.Avatar, "üé≠ Karakteri Kopyala (Copy Outfit)", function()
    if not _G.SelectedPlayer then return end
    local target = Players[_G.SelectedPlayer]
    if target and target.Character then
        local desc = target.Character.Humanoid:GetAppliedDescription()
        pcall(function()
            player.Character.Humanoid:ApplyDescription(desc)
        end)
    end
end)

createSection(Tabs.Avatar, "Efektler (VIP)")
createButton(Tabs.Avatar, "üî• Fire Aura (Beyaz)", function()
    pcall(function()
        Remotes.ApplyEmmiter:InvokeServer("18637074370", "030FireWhite")
    end)
end)

createButton(Tabs.Avatar, "üí® Smoke Aura (Siyah)", function()
    pcall(function()
        Remotes.ApplyEmmiter:InvokeServer("18637798529", "087SmokeBlack")
    end)
end)

-- 6. TROLL & FE SEKMESƒ∞
createSection(Tabs.Troll, "FE Scriptler (Loadstring)")

local scripts = {
    {name = "Namoz Kƒ±lanlar", url = "https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas"},
    {name = "Sonic.Exe", url = "https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas86"},
    {name = "G√∂r√ºnmezlik", url = "https://raw.githubusercontent.com/TROLLLINUXKKK/Fe-invis-vel-/refs/heads/main/Main.txt"},
    {name = "Fly Gui V3", url = "https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"}
}

for _, s in ipairs(scripts) do
    createButton(Tabs.Troll, "üìú " .. s.name, function()
        loadstring(game:HttpGet(s.url))()
    end)
end

createSection(Tabs.Troll, "Item Spammer")
createToggle(Tabs.Troll, "üí∏ Money Gun Spam", function(state)
    _G.SpamMoney = state
    while _G.SpamMoney do
        pcall(function()
            RE["1Playe1rTrigge1rEven1t"]:FireServer("AcceptedToolToServer", "MoneyGun", player)
        end)
        task.wait(0.5)
    end
end)

-- 7. KORUMA SEKMESƒ∞
createSection(Tabs.Protection, "Anti-Sistem")

createToggle(Tabs.Protection, "Anti-Fling (Ara√ß Temizle)", function(state)
    _G.AntiFling = state
    task.spawn(function()
        while _G.AntiFling do
            for _, v in pairs(workspace.Vehicles:GetChildren()) do
                -- Eƒüer ara√ß benim deƒüilse sil (Client side visual clean)
                local seat = v:FindFirstChild("Seats") and v.Seats:FindFirstChild("VehicleSeat")
                if seat and seat.Occupant ~= player.Character.Humanoid then
                    v:Destroy()
                end
            end
            task.wait(1)
        end
    end)
end)

createToggle(Tabs.Protection, "Anti-Lag (Tool Temizle)", function(state)
    if state then
        -- Basit bir temizlik
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= player and p.Character then
                for _, t in pairs(p.Character:GetChildren()) do
                    if t:IsA("Tool") then t:Destroy() end
                end
            end
        end
    end
end)

-- 8. EƒûLENCE SEKMESƒ∞
createSection(Tabs.Fun, "Stalk & View")

createToggle(Tabs.Fun, "üëÅÔ∏è Oyuncuyu ƒ∞zle (Spectate)", function(state)
    if state and _G.SelectedPlayer then
        local target = Players[_G.SelectedPlayer]
        if target and target.Character then
            camera.CameraSubject = target.Character.Humanoid
        end
    else
        camera.CameraSubject = player.Character.Humanoid
    end
end)

createButton(Tabs.Fun, "üïπÔ∏è CMDR Terminal", function()
    -- Fake CMDR UI a√ßma denemesi
    pcall(function()
        require(ReplicatedStorage.Packages.Remotes).fireServer("AdminRequest", "Console")
    end)
    StarterGui:SetCore("SendNotification", {Title="CMDR", Text="Terminal a√ßƒ±ldƒ± (F2)", Duration=3})
end)

-- ==================== Sƒ∞STEM BA≈ûLATMA ====================

-- Men√º A√ß/Kapa
UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.RightShift then
        _G.MenuVisible = not _G.MenuVisible
        MainFrame.Visible = _G.MenuVisible
    end
end)

-- S√ºr√ºklenebilir Yapma
local dragging, dragInput, dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)
RunService.RenderStepped:Connect(function()
    if dragging and dragInput then
        local delta = dragInput.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
end)

-- A√ßƒ±lƒ±≈ü Animasyonu
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Visible = true
TweenService:Create(MainFrame, TweenInfo.new(0.6, Enum.EasingStyle.Back), {Size = UDim2.new(0, 700, 0, 500)}):Play()

print("XenoHub V2 Ultimate Y√ºklendi! Yapƒ±mcƒ±: Xeno Team")
